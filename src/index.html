<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
		<title>Taskboard</title>
		
		<link rel="stylesheet" href="css/jquery.contextMenu.css" type="text/css" />
		<link rel="stylesheet" href="css/base.css" type="text/css" media="all" />
		<link type="text/css" href="css/atms-default/jquery-ui-1.8.custom.css" rel="stylesheet" />
		<link type="text/css" href="css/jquery.tooltip.css" rel="stylesheet" />		
		<link rel="stylesheet" href="css/jquery.atms.portlets.css" type="text/css" media="all" />
		<script type="text/javascript" src="js/jquery-1.4.2.min.js"></script>
		<script type="text/javascript" src="js/jquery-ui-1.8.custom.min.js"></script>
		<script type="text/javascript" src="js/jquery.contextMenu.js"></script>
		<script type="text/javascript" src="js/jquery.tooltip.js"></script>
		<script type="text/javascript" src="js/jquery.wresize.js"></script>
		<script type="text/javascript" src="js/jquery.atms.portlets.js"></script>

		<script type="text/javascript">
		
			$(function(){
				$('.result').ajaxError(function(e, xhr, settings, exception) {
					$(this).text('Triggered ajaxError handler. ' + settings.url);
				});
				
				$.getJSON('ajax/data.json', function(data) {
					$("#myportlet").portlets({
						data: data,
						update: function(portlet, newColumn, oldColumn, row){},
						portletsHeaderContextMenuId: "portletsHeaderMenu",
						portletsHeaderContextMenuAction: function(action, header, pos, data){alert(data)},
						legendContextMenuId: "legendMenu",
						legendContextMenuAction: function(action, legend, pos, data){alert(action);},
						portletContextMenuId: "myMenu",
						portletContextMenuAction: function(action, portlet, pos, data){alert(action);},
						beforeShowPortletsHeaderContextMenu: function(el, menu){
							if(el.text().indexOf("ATMS")!=-1){
								menu.disableContextMenuItems('#new-requirement');
							}else{
								menu.enableContextMenuItems('#new-requirement');
							}
						},
						legendAction: function(legend){alert(legend.attr("class"));}
					 });
				});
			})
		</script>
		
	</head>
	<body>
		<div class="result"></div>
		<div id="switcher" style="position: absolute; right: 0;"></div>
		
		<div style="padding: 1em;">
		
			<div id="myportlet">
				<div class="atms-ui-portlets-main">
					<div class="atms-ui-portlets-header" id="5">
						ATMS (ATMS)
						<!-- <span class="ui-icon ui-icon-circle-minus"></span> -->
					</div>
					
					<div class="atms-ui-portlet-rows-container">
						<div class="atms-ui-portlet-row">
							<div class="atms-ui-portlet-column-legend" title="Requirement">
								<div class="atms-ui-portlet-column-header">
									Requirement for tasks that are very long
								</div>
								
								<div class="atms-ui-portlet-tooltip">
									<div class="atms-ui-porlet-tooltip-container">
										<label class="atms-ui-portlet-label">
											<span class="ui-icon ui-icon-clock atms-ui-portlet-label-icon"></span>
											<span class="atms-ui-portlet-label-header atms-ui-text-normal">Duration plan:</span>
											<span class="atms-ui-portlet-label-value">1d 00:00</span> <br/>
											<span class="atms-ui-portlet-label-header atms-ui-text-normal">Used:</span>
											<span class="atms-ui-portlet-label-value">1d 00:00</span> <br/>
											<span class="atms-ui-portlet-label-header atms-ui-text-normal">Needed:</span> 
											<span class="atms-ui-portlet-label-value">1d 00:00</span>
										</label>
									</div>
								</div>
								
								<div class="atms-ui-portlet-column-legend-details">
									<label class="atms-ui-portlet-label">
										<span class="atms-icon atms-icon-flag-blue atms-ui-portlet-label-icon" title="Priority"></span>
										5 - highest
									</label>
									<label class="atms-ui-portlet-label">
										<span class="atms-icon atms-icon-script atms-ui-portlet-label-icon" title="Type requirement"></span>
										Bug
									</label>
									<label class="atms-ui-portlet-label">
										<span class="atms-icon atms-icon-monitor atms-ui-portlet-label-icon" title="Status"></span>
										Otwarte
									</label>
									<label class="atms-ui-portlet-label">
										<span class="atms-icon atms-icon-date atms-ui-portlet-label-icon" title="Time span"></span>
										12-12-2009 - 24-01-2010
									</label>
									<label class="atms-ui-portlet-label">
										<span class="atms-icon atms-icon-accept atms-ui-portlet-label-icon" title="Can close"></span>
										Do zamkniecia
									</label>
									<label class="atms-ui-portlet-label">
										<span class="atms-icon atms-icon-error atms-ui-portlet-label-icon" title="Can close"></span>
										Cannot be closed
									</label>
								</div>
							</div>
							
			                <div class="atms-ui-portlet-column-legend-action">
			                  <div class="atms-ui-portlet-column-legend-action-icon"><span class="ui-icon ui-icon-plus"></span></div>
			                </div>
							
							<div class="atms-ui-portlet-column">
								<div class="atms-ui-portlet-column-header ui-state-disable">Nowe</div>
								
								<div class="atms-ui-portlet ui-state-disabled">
									<div class="atms-ui-portlet-header atms-ui-portlet-one">Brak pola</div>
									<div class="atms-ui-portlet-content">
					
										<label class="atms-ui-portlet-label">
											<span class="ui-icon ui-icon-person atms-ui-portlet-label-icon"></span>
											Piotr Nowak, Andrzej Kowalski, Joanna Gruchel
										</label>
										<label class="atms-ui-portlet-label">
											<span class="ui-icon ui-icon-flag atms-ui-portlet-label-icon"></span>
											Najwyzszy
										</label>
										<label class="atms-ui-portlet-label">
											<span class="ui-icon ui-icon-calendar atms-ui-portlet-label-icon"></span>
											01-04-2010 
										</label>
	
									</div>
								</div>
							
							</div>
							
							<div class="atms-ui-portlet-column">
								<div class="ui-corner-all atms-ui-portlet-column-header">W realizacji</div>
								
								<div class="atms-ui-portlet ui-state-error">
									<div class="atms-ui-portlet-header atms-ui-portlet-one">Brak pola walidacji w folderze dodawania sprawy i doca</div>
									<div class="atms-ui-portlet-content">
										<div class="atms-ui-portlet-tooltip">
											<div class="atms-ui-porlet-tooltip-container">
												<label class="atms-ui-portlet-label">
													<span class="ui-icon ui-icon-key atms-ui-portlet-label-icon"></span>
													<span class="atms-ui-portlet-label-header">Id:</span>
													<span class="atms-ui-portlet-label-value">1423534-2</span>
												</label>
												<label class="atms-ui-portlet-label">
													<span class="ui-icon ui-icon-clock atms-ui-portlet-label-icon"></span>
													<span class="atms-ui-portlet-label-header">Duration plan:</span>
													<span class="atms-ui-portlet-label-value">1d 00:00</span> <br/>
													<span class="atms-ui-portlet-label-header">Used:</span>
													<span class="atms-ui-portlet-label-value">1d 00:00</span> <br/>
													<span class="atms-ui-portlet-label-header">Needed:</span> 
													<span class="atms-ui-portlet-label-value">1d 00:00</span>
												</label>
											</div>
										</div>
					
										<label class="atms-ui-portlet-label">
											<span class="ui-icon ui-icon-person atms-ui-portlet-label-icon"></span>
											Piotr Nowak, Andrzej Kowalski, Joanna Gruchel
										</label>
										<label class="atms-ui-portlet-label">
											<span class="ui-icon ui-icon-flag atms-ui-portlet-label-icon"></span>
											Najwyzszy
										</label>
										<label class="atms-ui-portlet-label">
											<span class="ui-icon ui-icon-clock atms-ui-portlet-label-icon"></span>
											01-04-2010 - 02-05-2010 
										</label>
										<label class="atms-ui-portlet-label">
											<span class="ui-icon ui-icon-calendar atms-ui-portlet-label-icon"></span>
											01-04-2010 
										</label>
	
									</div>
								</div>
								<div class="atms-ui-portlet" style="position: relative;">
									<div class="atms-ui-portlet-header atms-ui-portlet-two">Brak walidacji</div>
									<div class="atms-ui-portlet-content">
										<label class="atms-ui-portlet-label">
											<span class="ui-icon ui-icon-person atms-ui-portlet-label-icon"></span>
											Anna Bednarczyk
										</label>
										<label class="atms-ui-portlet-label">
											<span class="ui-icon ui-icon-flag atms-ui-portlet-label-icon"></span>
											Najwyzszy
										</label>
										<label class="atms-ui-portlet-label">
											<span class="ui-icon ui-icon-calendar atms-ui-portlet-label-icon"></span>
											01-04-2010 
										</label>
										
									</div>
								</div>
							</div>
							
							<div class="atms-ui-portlet-column">
								<div class="ui-corner-all atms-ui-portlet-column-header">Zamkniete</div>
								
								<div class="atms-ui-portlet atms-ui-portlet-collapsed">
									<div class="atms-ui-portlet-header atms-ui-portlet-three">Rozpatrywanie urlopow - odswiezanie</div>
									<div class="atms-ui-portlet-content">
										<label class="atms-ui-portlet-label">
											<span class="ui-icon ui-icon-flag atms-ui-portlet-label-icon"></span>
											Najwyzszy
										</label>
										<label class="atms-ui-portlet-label">
											<span class="ui-icon ui-icon-calendar atms-ui-portlet-label-icon"></span>
											01-04-2010 
										</label>
									</div>
								</div>
							</div>
							
						</div>
						
						<div class="atms-ui-portlet-row">
							<div class="atms-ui-portlet-column-legend">
								<div class="atms-ui-portlet-column-header">
									Other stuff
								</div>
								<div class="atms-ui-portlet-column-legend-details">
									<label class="atms-ui-portlet-label">
										<span class="atms-icon atms-icon-flag-blue atms-ui-portlet-label-icon"></span>
										5 - high
									</label>
									<label class="atms-ui-portlet-label">
										<span class="atms-icon atms-icon-script atms-ui-portlet-label-icon"></span>
										Story
									</label>
									<label class="atms-ui-portlet-label">
										<span class="atms-icon atms-icon-monitor atms-ui-portlet-label-icon"></span>
										W toku
									</label>
									<label class="atms-ui-portlet-label">
										<span class="atms-icon atms-icon-date atms-ui-portlet-label-icon" title="Time span"></span>
										12-12-2009 - 24-01-2010
									</label>
								</div>
							</div>
							
			                <div class="atms-ui-portlet-column-legend-action ui-state-disabled">
			                  <div class="atms-ui-portlet-column-legend-action-icon"><span class="ui-icon ui-icon-plus"></span></div>
			                </div>
							
							<div class="atms-ui-portlet-column">
								<div class="atms-ui-portlet">
									<div class="atms-ui-portlet-header atms-ui-portlet-one">Rozpatrywanie urlopow - odswiezanie</div>
									<div class="atms-ui-portlet-content">
										<label class="atms-ui-portlet-label">
											<span class="ui-icon ui-icon-flag atms-ui-portlet-label-icon"></span>
											Najwyzszy
										</label>
										<label class="atms-ui-portlet-label">
											<span class="ui-icon ui-icon-calendar atms-ui-portlet-label-icon"></span>
											01-04-2010 
										</label>
									</div>
								</div>
							</div>
							
							<div class="atms-ui-portlet-column">
			
							</div>
							
							<div class="atms-ui-portlet-column">
								
							</div>
						</div>
						
						<div class="atms-ui-portlet-row">
							<div class="atms-ui-portlet-column-legend">
								<div class="atms-ui-portlet-column-header">
									My stuff
								</div>
								<div class="atms-ui-portlet-column-legend-details">
									<label class="atms-ui-portlet-label">
										<span class="atms-icon atms-icon-flag-blue atms-ui-portlet-label-icon"></span>
										5 - highest
									</label>
									<label class="atms-ui-portlet-label">
										<span class="atms-icon atms-icon-script atms-ui-portlet-label-icon"></span>
										Bug
									</label>
									<label class="atms-ui-portlet-label">
										<span class="atms-icon atms-icon-monitor atms-ui-portlet-label-icon"></span>
										Otwarte
									</label>
								</div>
							</div>
							
			                <div class="atms-ui-portlet-column-legend-action">
			                  <div class="atms-ui-portlet-column-legend-action-icon"><span class="ui-icon ui-icon-plus"></span></div>
			                </div>
							
							<div class="atms-ui-portlet-column">
							
							</div>
							
							<div class="atms-ui-portlet-column">
			
							</div>
							
							<div class="atms-ui-portlet-column">
								<div class="atms-ui-portlet atms-ui-portlet-collapsed">
									<div class="atms-ui-portlet-header atms-ui-portlet-one">Rozpatrywanie urlopow - odswiezanie</div>
									<div class="atms-ui-portlet-content">
										<label class="atms-ui-portlet-label">
											<span class="ui-icon ui-icon-person atms-ui-portlet-label-icon"></span>
											Anna Bednarczyk
										</label>
										<label class="atms-ui-portlet-label">
											<span class="ui-icon ui-icon-flag atms-ui-portlet-label-icon"></span>
											Najwyzszy
										</label>
										<label class="atms-ui-portlet-label">
											<span class="ui-icon ui-icon-calendar atms-ui-portlet-label-icon"></span>
											01-04-2010 
										</label>
									</div>
								</div>
							</div>
						</div>
					</div>
					</div>
					<div class="atms-ui-portlets-main">
						<div class="atms-ui-portlets-header">
							Tele2 (Deutsche mark)
							<!-- <span class="ui-icon ui-icon-circle-minus"></span> -->
						</div>
						
						<div class="atms-ui-portlet-rows-container">
							
							<div class="atms-ui-portlet-row">
								<div class="atms-ui-portlet-column-legend">
									<div class="atms-ui-portlet-column-header">
										Other stuff
									</div>
									<div class="atms-ui-portlet-column-legend-details">
										<label class="atms-ui-portlet-label">
											<span class="atms-icon atms-icon-flag-blue atms-ui-portlet-label-icon"></span>
											5 - highest
										</label>
										<label class="atms-ui-portlet-label">
											<span class="atms-icon atms-icon-script atms-ui-portlet-label-icon"></span>
											Bug
										</label>
										<label class="atms-ui-portlet-label">
											<span class="atms-icon atms-icon-monitor atms-ui-portlet-label-icon"></span>
											Otwarte
										</label>
									</div>
								</div>
								
				                <div class="atms-ui-portlet-column-legend-action">
				                  <div class="atms-ui-portlet-column-legend-action-icon"><span class="ui-icon ui-icon-plus"></span></div>
				                </div>
								
								<div class="atms-ui-portlet-column">
									<div class="atms-ui-portlet-column-header">Nowe</div>
									<div class="atms-ui-portlet">
										<div class="atms-ui-portlet-header atms-ui-portlet-one">Rozpatrywanie urlopow - odswiezanie</div>
										<div class="atms-ui-portlet-content">
											<label class="atms-ui-portlet-label">
												<span class="ui-icon ui-icon-flag atms-ui-portlet-label-icon"></span>
												Najwyzszy
											</label>
											<label class="atms-ui-portlet-label">
												<span class="ui-icon ui-icon-calendar atms-ui-portlet-label-icon"></span>
												01-04-2010 
											</label>
										</div>
									</div>
								</div>
								
								<div class="atms-ui-portlet-column">
									<div class="atms-ui-portlet-column-header">W toku</div>

								</div>
								
								<div class="atms-ui-portlet-column">
									<div class="atms-ui-portlet-column-header">Testy</div>

								</div>

								<div class="atms-ui-portlet-column">
									<div class="atms-ui-portlet-column-header">Odrzucone</div>

								</div>
								
								<div class="atms-ui-portlet-column">
									<div class="atms-ui-portlet-column-header">Zaakceptowane</div>

								</div>
								
								<div class="atms-ui-portlet-column">
									<div class="atms-ui-portlet-column-header">Zamkniete</div>

								</div>
							</div>
	
						</div>
					</div>
					
					<div class="atms-ui-portlets-main">
						<div class="atms-ui-portlets-header">
							ABMS (ABMS)
							<!-- <span class="ui-icon ui-icon-circle-minus"></span> -->
						</div>
						
						<div class="atms-ui-portlet-rows-container">
							
							<div class="atms-ui-portlet-row">
								<div class="atms-ui-portlet-column-legend">
									<div class="atms-ui-portlet-column-header">
										Other stuff
									</div>
									<div class="atms-ui-portlet-column-legend-details">
										<label class="atms-ui-portlet-label">
											<span class="atms-icon atms-icon-flag-blue atms-ui-portlet-label-icon"></span>
											5 - highest
										</label>
										<label class="atms-ui-portlet-label">
											<span class="atms-icon atms-icon-script atms-ui-portlet-label-icon"></span>
											Bug
										</label>
										<label class="atms-ui-portlet-label">
											<span class="atms-icon atms-icon-monitor atms-ui-portlet-label-icon"></span>
											Otwarte
										</label>
									</div>
								</div>
								
				                <div class="atms-ui-portlet-column-legend-action">
				                  <div class="atms-ui-portlet-column-legend-action-icon"><span class="ui-icon ui-icon-plus"></span></div>
				                </div>
								
								<div class="atms-ui-portlet-column">
									<div class="atms-ui-portlet-column-header">Nowe</div>
									<div class="atms-ui-portlet">
										<div class="atms-ui-portlet-header atms-ui-portlet-one">Rozpatrywanie urlopow - odswiezanie</div>
										<div class="atms-ui-portlet-content">
											<label class="atms-ui-portlet-label">
												<span class="ui-icon ui-icon-flag atms-ui-portlet-label-icon"></span>
												Najwyzszy
											</label>
											<label class="atms-ui-portlet-label">
												<span class="ui-icon ui-icon-calendar atms-ui-portlet-label-icon"></span>
												01-04-2010 
											</label>
										</div>
									</div>
								</div>
								
								<div class="atms-ui-portlet-column">
									<div class="atms-ui-portlet-column-header">W toku</div>

								</div>
								
								<div class="atms-ui-portlet-column">
									<div class="atms-ui-portlet-column-header">Testy</div>

								</div>
								
								<div class="atms-ui-portlet-column">
									<div class="atms-ui-portlet-column-header">Testy</div>

								</div>
								

							</div>
	
						</div>
					</div>
					
				</div>
			</div>

		<ul id="myMenu" class="contextMenu ui-widget-content">
			<li class="edit"><a href="#edit">Edit</a></li>
			<li class="user separator"><a href="#assign">Assign to me</a></li>
			<li class="table-go"><a href="#task-assignment">Task assignment</a></li>
			<li class="time"><a href="#time-recording">Time recording</a></li>
			<li class="add"><a href="#add">Very long add descr</a></li>
		</ul>
		
		<ul id="legendMenu" class="contextMenu ui-widget-content">
			<li class="edit"><a href="#edit">Edit requirement</a></li>
			<li class="table"><a href="#tasks">Tasks</a></li>
			<li class="arrow-divide"><a href="#split">Requirement split</a></li>
			<li class="add ui-widget-content separator"><a href="#new-task">New task</a></li>
			<li class="chart-bar"><a href="#new-task">Chart</a></li>
		</ul>
		
		<ul id="portletsHeaderMenu" class="contextMenu ui-widget-content">
			<li class="add"><a href="#new-requirement">New requirement</a></li>
		</ul>

	</body>
</html>


